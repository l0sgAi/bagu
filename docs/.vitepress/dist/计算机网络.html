<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>🏗️ 计算机网络 | Bagu for me and for all</title>
    <meta name="description" content="We need bagu to get a f**king job!">
    <meta name="generator" content="VitePress v2.0.0-alpha.15">
    <link rel="preload stylesheet" href="/bagu/assets/style.Cpgg9TW0.css" as="style">
    <link rel="preload stylesheet" href="/bagu/vp-icons.css" as="style">
    
    <script type="module" src="/bagu/assets/app.-K9kyxXP.js"></script>
    <link rel="preload" href="/bagu/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/bagu/assets/chunks/theme.BSHZKOhz.js">
    <link rel="modulepreload" href="/bagu/assets/chunks/framework.BZD6ashX.js">
    <link rel="modulepreload" href="/bagu/assets/计算机网络.md.Boh2ZjaX.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-1df9f90f><!--[--><!--]--><!--[--><span tabindex="-1" data-v-331ec75c></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-331ec75c>Skip to content</a><!--]--><!----><header class="VPNav" data-v-1df9f90f data-v-da52a441><div class="VPNavBar" data-v-da52a441 data-v-70946a35><div class="wrapper" data-v-70946a35><div class="container" data-v-70946a35><div class="title" data-v-70946a35><div class="VPNavBarTitle" data-v-70946a35 data-v-1e38c6bc><a class="title" href="/bagu/" data-v-1e38c6bc><!--[--><!--]--><!----><span data-v-1e38c6bc>Bagu for me and for all</span><!--[--><!--]--></a></div></div><div class="content" data-v-70946a35><div class="content-body" data-v-70946a35><!--[--><!--]--><div class="VPNavBarSearch search" data-v-70946a35><!--[--><!----><div id="local-search"><button type="button" aria-label="Search" aria-keyshortcuts="/ control+k meta+k" class="DocSearch DocSearch-Button"><span class="DocSearch-Button-Container"><span class="vpi-search DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key"></kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-70946a35 data-v-39714824><span id="main-nav-aria-label" class="visually-hidden" data-v-39714824> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/bagu/" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/bagu/Java%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>JDK与数据结构</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/bagu/%E6%95%B0%E6%8D%AE%E5%BA%93.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>数据库</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/bagu/Elasticsearch.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>Elasticsearch</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/bagu/LLM%E4%B8%8EAgent.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>LLM与Agent</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/bagu/Spring.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>Spring</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/bagu/JVM.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>JVM与性能调优</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/bagu/%E9%AB%98%E6%80%A7%E8%83%BDRedis.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>高性能Redis</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/bagu/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>消息队列</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/bagu/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>图和树</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/bagu/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>计算机网络</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-70946a35 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-70946a35 data-v-0394ad82 data-v-d07f11e6><!--[--><a class="VPSocialLink no-icon" href="https://github.com/l0sgAi" aria-label="github" target="_blank" rel="me noopener" data-v-d07f11e6 data-v-591a6b30><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-70946a35 data-v-bf2fac68 data-v-42cb505d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-42cb505d><span class="vpi-more-horizontal icon" data-v-42cb505d></span></button><div class="menu" data-v-42cb505d><div class="VPMenu" data-v-42cb505d data-v-25a6cce8><!----><!--[--><!--[--><!----><div class="group" data-v-bf2fac68><div class="item appearance" data-v-bf2fac68><p class="label" data-v-bf2fac68>Appearance</p><div class="appearance-action" data-v-bf2fac68><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bf2fac68 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bf2fac68><div class="item social-links" data-v-bf2fac68><div class="VPSocialLinks social-links-list" data-v-bf2fac68 data-v-d07f11e6><!--[--><a class="VPSocialLink no-icon" href="https://github.com/l0sgAi" aria-label="github" target="_blank" rel="me noopener" data-v-d07f11e6 data-v-591a6b30><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-70946a35 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-70946a35><div class="divider-line" data-v-70946a35></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-1df9f90f data-v-db738f89><div class="container" data-v-db738f89><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-db738f89 data-v-0bf0e06f><button data-v-0bf0e06f>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-1df9f90f data-v-c87f25bf><div class="VPDoc has-aside" data-v-c87f25bf data-v-7011f0d8><!--[--><!--]--><div class="container" data-v-7011f0d8><div class="aside" data-v-7011f0d8><div class="aside-curtain" data-v-7011f0d8></div><div class="aside-container" data-v-7011f0d8><div class="aside-content" data-v-7011f0d8><div class="VPDocAside" data-v-7011f0d8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-60d5052e><div class="content" data-v-60d5052e><div class="outline-marker" data-v-60d5052e></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-60d5052e>On this page</div><ul class="VPDocOutlineItem root" data-v-60d5052e data-v-1ce71065><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-7011f0d8><div class="content-container" data-v-7011f0d8><!--[--><!--]--><main class="main" data-v-7011f0d8><div style="position:relative;" class="vp-doc _bagu_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C" data-v-7011f0d8><div><h1 id="🏗️-计算机网络" tabindex="-1">🏗️ 计算机网络 <a class="header-anchor" href="#🏗️-计算机网络" aria-label="Permalink to “🏗️ 计算机网络”">​</a></h1><hr><h1 id="i-osi-七层模型与-tcp-ip-四层模型" tabindex="-1">I. OSI 七层模型与 TCP/IP 四层模型 <a class="header-anchor" href="#i-osi-七层模型与-tcp-ip-四层模型" aria-label="Permalink to “I. OSI 七层模型与 TCP/IP 四层模型”">​</a></h1><h3 id="_1-osi-七层模型" tabindex="-1">1. OSI 七层模型 <a class="header-anchor" href="#_1-osi-七层模型" aria-label="Permalink to “1. OSI 七层模型”">​</a></h3><p>从上到下依次为：</p><ol><li><strong>应用层</strong>：为应用程序提供服务（HTTP、FTP、SMTP）</li><li><strong>表示层</strong>：数据格式化、加密解密</li><li><strong>会话层</strong>：建立、管理、维护会话</li><li><strong>传输层</strong>：端到端通信（TCP、UDP）</li><li><strong>网络层</strong>：路由选择、逻辑地址（IP）</li><li><strong>数据链路层</strong>：成帧、MAC 地址（以太网、WiFi）</li><li><strong>物理层</strong>：比特流传输</li></ol><h3 id="_2-tcp-ip-四层模型-实际应用" tabindex="-1">2. TCP/IP 四层模型（实际应用） <a class="header-anchor" href="#_2-tcp-ip-四层模型-实际应用" aria-label="Permalink to “2. TCP/IP 四层模型（实际应用）”">​</a></h3><ol><li><strong>应用层</strong>：对应 OSI 应用层、表示层、会话层（HTTP、DNS、SSH）</li><li><strong>传输层</strong>：TCP、UDP</li><li><strong>网络层</strong>：IP、ICMP、ARP</li><li><strong>网络接口层</strong>：对应 OSI 数据链路层、物理层</li></ol><hr><h1 id="ii-tcp-与-udp" tabindex="-1">II. TCP 与 UDP <a class="header-anchor" href="#ii-tcp-与-udp" aria-label="Permalink to “II. TCP 与 UDP”">​</a></h1><h3 id="_1-对比" tabindex="-1">1. 对比 <a class="header-anchor" href="#_1-对比" aria-label="Permalink to “1. 对比”">​</a></h3><table tabindex="0"><thead><tr><th>特性</th><th>TCP</th><th>UDP</th></tr></thead><tbody><tr><td>连接</td><td>面向连接（三次握手）</td><td>无连接</td></tr><tr><td>可靠性</td><td>可靠传输（确认、重传）</td><td>不可靠，可能丢包</td></tr><tr><td>顺序</td><td>保证有序</td><td>不保证</td></tr><tr><td>速度</td><td>较慢</td><td>快</td></tr><tr><td>资源消耗</td><td>高</td><td>低</td></tr><tr><td>首部开销</td><td>20-60 字节</td><td>8 字节</td></tr><tr><td>应用场景</td><td>文件传输、邮件、网页</td><td>视频流、游戏、DNS</td></tr></tbody></table><h3 id="_2-tcp-三次握手" tabindex="-1">2. TCP 三次握手 <a class="header-anchor" href="#_2-tcp-三次握手" aria-label="Permalink to “2. TCP 三次握手”">​</a></h3><p><strong>目的</strong>：建立连接，同步双方的序列号和确认号</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>客户端 -&gt; 服务端: SYN=1, seq=x （SYN_SENT）</span></span>
<span class="line"><span>服务端 -&gt; 客户端: SYN=1, ACK=1, seq=y, ack=x+1 （SYN_RCVD）</span></span>
<span class="line"><span>客户端 -&gt; 服务端: ACK=1, seq=x+1, ack=y+1 （ESTABLISHED）</span></span></code></pre></div><p><strong>为什么是三次？</strong></p><ul><li>防止失效的连接请求报文段被服务端接收，造成错误</li><li>确认双方的收发能力都正常</li></ul><h3 id="_3-tcp-四次挥手" tabindex="-1">3. TCP 四次挥手 <a class="header-anchor" href="#_3-tcp-四次挥手" aria-label="Permalink to “3. TCP 四次挥手”">​</a></h3><p><strong>目的</strong>：断开连接</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>客户端 -&gt; 服务端: FIN=1, seq=u （FIN_WAIT_1）</span></span>
<span class="line"><span>服务端 -&gt; 客户端: ACK=1, seq=v, ack=u+1 （CLOSE_WAIT）</span></span>
<span class="line"><span>客户端 -&gt; 服务端: （确认收到，进入 FIN_WAIT_2）</span></span>
<span class="line"><span>服务端 -&gt; 客户端: FIN=1, ACK=1, seq=w, ack=u+1 （LAST_ACK）</span></span>
<span class="line"><span>客户端 -&gt; 服务端: ACK=1, seq=u+1, ack=w+1 （TIME_WAIT，等待 2MSL 后关闭）</span></span></code></pre></div><p><strong>为什么需要 TIME_WAIT？</strong></p><ul><li>确保最后一个 ACK 能到达服务端（如果丢失，服务端会重传 FIN）</li><li>等待 2MSL（最大报文生存时间），让旧报文在网络中消失</li></ul><p><strong>为什么是四次？</strong></p><ul><li>服务端收到 FIN 后可能还有数据要发送，所以 ACK 和 FIN 分开发送</li></ul><h3 id="_4-tcp-可靠传输机制" tabindex="-1">4. TCP 可靠传输机制 <a class="header-anchor" href="#_4-tcp-可靠传输机制" aria-label="Permalink to “4. TCP 可靠传输机制”">​</a></h3><ul><li><strong>序列号</strong>：对数据字节进行编号</li><li><strong>确认应答（ACK）</strong>：接收方收到数据后回复 ACK</li><li><strong>超时重传</strong>：发送方未收到 ACK 则重传</li><li><strong>快速重传</strong>：收到 3 个重复 ACK 立即重传</li><li><strong>滑动窗口</strong>：流量控制，接收方告知窗口大小</li><li><strong>拥塞控制</strong>：慢启动、拥塞避免、快重传、快恢复</li></ul><h3 id="_5-tcp-滑动窗口与流量控制" tabindex="-1">5. TCP 滑动窗口与流量控制 <a class="header-anchor" href="#_5-tcp-滑动窗口与流量控制" aria-label="Permalink to “5. TCP 滑动窗口与流量控制”">​</a></h3><p><strong>滑动窗口</strong>：</p><ul><li>发送方根据接收方的通告窗口大小控制发送速率</li><li>窗口大小 = 接收缓冲区剩余空间</li></ul><p><strong>流量控制</strong>：</p><ul><li>防止发送方发太快导致接收方缓冲区溢出</li><li>接收方在 ACK 中通告窗口大小（为 0 时停止发送）</li></ul><h3 id="_6-tcp-拥塞控制" tabindex="-1">6. TCP 拥塞控制 <a class="header-anchor" href="#_6-tcp-拥塞控制" aria-label="Permalink to “6. TCP 拥塞控制”">​</a></h3><ul><li><strong>慢启动</strong>：cwnd 从 1 开始，每 RTT 翻倍（指数增长）</li><li><strong>拥塞避免</strong>：cwnd 达到阈值后，每 RTT 加 1（线性增长）</li><li><strong>快重传</strong>：收到 3 个重复 ACK，立即重传</li><li><strong>快恢复</strong>：快重传后，cwnd 减半，直接进入拥塞避免</li></ul><hr><h1 id="iii-http-与-https" tabindex="-1">III. HTTP 与 HTTPS <a class="header-anchor" href="#iii-http-与-https" aria-label="Permalink to “III. HTTP 与 HTTPS”">​</a></h1><h3 id="_1-http-常见状态码" tabindex="-1">1. HTTP 常见状态码 <a class="header-anchor" href="#_1-http-常见状态码" aria-label="Permalink to “1. HTTP 常见状态码”">​</a></h3><ul><li><strong>1xx</strong>：信息性（100 Continue）</li><li><strong>2xx</strong>：成功（200 OK、201 Created、204 No Content）</li><li><strong>3xx</strong>：重定向（301 Moved Permanently、302 Found、304 Not Modified）</li><li><strong>4xx</strong>：客户端错误（400 Bad Request、401 Unauthorized、403 Forbidden、404 Not Found）</li><li><strong>5xx</strong>：服务器错误（500 Internal Server Error、502 Bad Gateway、503 Service Unavailable）</li></ul><h3 id="_2-http-与-https-的区别" tabindex="-1">2. HTTP 与 HTTPS 的区别 <a class="header-anchor" href="#_2-http-与-https-的区别" aria-label="Permalink to “2. HTTP 与 HTTPS 的区别”">​</a></h3><table tabindex="0"><thead><tr><th>特性</th><th>HTTP</th><th>HTTPS</th></tr></thead><tbody><tr><td>协议</td><td>运行在 TCP 之上</td><td>运行在 SSL/TLS 之上</td></tr><tr><td>端口</td><td>80</td><td>443</td></tr><tr><td>安全性</td><td>明文传输，易被窃听</td><td>加密传输，防窃听、篡改</td></tr><tr><td>证书</td><td>不需要</td><td>需要 CA 证书</td></tr><tr><td>性能</td><td>快</td><td>慢（SSL 握手开销）</td></tr></tbody></table><h3 id="_3-https-加密流程" tabindex="-1">3. HTTPS 加密流程 <a class="header-anchor" href="#_3-https-加密流程" aria-label="Permalink to “3. HTTPS 加密流程”">​</a></h3><ol><li><strong>客户端发送 ClientHello</strong>：支持的加密套件、随机数</li><li><strong>服务端返回 ServerHello</strong>：选择的加密套件、随机数、证书</li><li><strong>客户端验证证书</strong>：检查 CA 签名、有效期、域名</li><li><strong>客户端生成 premaster secret</strong>：用服务端证书的公钥加密发送</li><li><strong>双方生成 master secret</strong>：用客户端随机数、服务端随机数、premaster secret 生成</li><li><strong>双方生成会话密钥</strong>：用于对称加密通信</li></ol><h3 id="_4-http-1-0-1-1-2-0-的区别" tabindex="-1">4. HTTP 1.0 / 1.1 / 2.0 的区别 <a class="header-anchor" href="#_4-http-1-0-1-1-2-0-的区别" aria-label="Permalink to “4. HTTP 1.0 / 1.1 / 2.0 的区别”">​</a></h3><p><strong>HTTP 1.0</strong>：</p><ul><li>每个请求都需要新连接（短连接）</li><li>无 Host 头，无法虚拟主机</li></ul><p><strong>HTTP 1.1</strong>：</p><ul><li><strong>长连接</strong>（Connection: keep-alive），默认开启</li><li><strong>管道化</strong>（Pipelining）：可并行发送请求，但需按顺序响应</li><li><strong>分块传输编码</strong>（Transfer-Encoding: chunked）</li><li>增加 Host 头、缓存控制</li></ul><p><strong>HTTP 2.0</strong>：</p><ul><li><strong>多路复用</strong>：一个连接并发多个请求，解决队头阻塞</li><li><strong>二进制分帧</strong>：改用二进制格式，解析更高效</li><li><strong>头部压缩</strong>（HPACK）：减少重复头部传输</li><li><strong>服务端推送</strong>（Server Push）：主动推送资源</li></ul><h3 id="_5-http-与-websocket-的区别" tabindex="-1">5. HTTP 与 WebSocket 的区别 <a class="header-anchor" href="#_5-http-与-websocket-的区别" aria-label="Permalink to “5. HTTP 与 WebSocket 的区别”">​</a></h3><table tabindex="0"><thead><tr><th>特性</th><th>HTTP</th><th>WebSocket</th></tr></thead><tbody><tr><td>通信模式</td><td>半双工（请求-响应）</td><td>全双工</td></tr><tr><td>连接</td><td>短连接/长连接</td><td>持久连接</td></tr><tr><td>状态</td><td>无状态</td><td>有状态</td></tr><tr><td>推送</td><td>轮询/长轮询</td><td>服务端主动推送</td></tr><tr><td>应用</td><td>网页、API</td><td>即时通讯、游戏</td></tr></tbody></table><p><strong>WebSocket 握手</strong>：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>客户端请求：</span></span>
<span class="line"><span>GET /chat HTTP/1.1</span></span>
<span class="line"><span>Upgrade: websocket</span></span>
<span class="line"><span>Connection: Upgrade</span></span>
<span class="line"><span>Sec-WebSocket-Key: x3JJHMbDL1EzLkh9GBhXDw==</span></span>
<span class="line"><span></span></span>
<span class="line"><span>服务端响应：</span></span>
<span class="line"><span>HTTP/1.1 101 Switching Protocols</span></span>
<span class="line"><span>Upgrade: websocket</span></span>
<span class="line"><span>Connection: Upgrade</span></span>
<span class="line"><span>Sec-WebSocket-Accept: HSmrc0sMlYUkAGmm5OPpG2HaGWk=</span></span></code></pre></div><hr><h1 id="iv-dns" tabindex="-1">IV. DNS <a class="header-anchor" href="#iv-dns" aria-label="Permalink to “IV. DNS”">​</a></h1><h3 id="_1-dns-解析过程" tabindex="-1">1. DNS 解析过程 <a class="header-anchor" href="#_1-dns-解析过程" aria-label="Permalink to “1. DNS 解析过程”">​</a></h3><ol><li><strong>检查浏览器缓存</strong>：是否有域名对应的 IP</li><li><strong>检查系统缓存</strong>（hosts 文件）</li><li><strong>检查本地 DNS 服务器</strong>（运营商 DNS）</li><li><strong>递归查询</strong>： <ul><li>本地 DNS 向<strong>根域名服务器</strong>查询（.）</li><li>根服务器返回<strong>顶级域名服务器</strong>地址（.com）</li><li>向顶级域名服务器查询，返回<strong>权威域名服务器</strong>地址</li><li>向权威域名服务器查询，返回最终 IP</li></ul></li></ol><h3 id="_2-dns-记录类型" tabindex="-1">2. DNS 记录类型 <a class="header-anchor" href="#_2-dns-记录类型" aria-label="Permalink to “2. DNS 记录类型”">​</a></h3><ul><li><strong>A 记录</strong>：域名 -&gt; IPv4 地址</li><li><strong>AAAA 记录</strong>：域名 -&gt; IPv6 地址</li><li><strong>CNAME</strong>：域名别名（如 www.example.com -&gt; example.com）</li><li><strong>MX 记录</strong>：邮件服务器</li><li><strong>TXT 记录</strong>：文本信息（如 SPF、DKIM）</li><li><strong>NS 记录</strong>：指定 DNS 服务器</li></ul><hr><h1 id="v-arp-协议" tabindex="-1">V. ARP 协议 <a class="header-anchor" href="#v-arp-协议" aria-label="Permalink to “V. ARP 协议”">​</a></h1><h3 id="_1-作用" tabindex="-1">1. 作用 <a class="header-anchor" href="#_1-作用" aria-label="Permalink to “1. 作用”">​</a></h3><p>将 IP 地址解析为 MAC 地址（网络层到数据链路层）</p><h3 id="_2-工作流程" tabindex="-1">2. 工作流程 <a class="header-anchor" href="#_2-工作流程" aria-label="Permalink to “2. 工作流程”">​</a></h3><ol><li>主机 A 想发送数据给主机 B（已知 B 的 IP）</li><li>主机 A 广播 ARP 请求：&quot;谁的 IP 是 192.168.1.2？&quot;</li><li>主机 B 收到后回复 ARP 响应：&quot;我的 MAC 是 aa:bb:cc:dd:ee:ff&quot;</li><li>主机 A 将 B 的 IP-MAC 映射缓存到 ARP 表</li></ol><h3 id="_3-arp-缓存" tabindex="-1">3. ARP 缓存 <a class="header-anchor" href="#_3-arp-缓存" aria-label="Permalink to “3. ARP 缓存”">​</a></h3><ul><li>查看缓存：<code>arp -a</code>（Windows）、<code>arp -n</code>（Linux）</li><li>缓存超时：一般 20 分钟</li><li>免费 ARP：主机启动时广播自己的 IP，检测冲突</li></ul><hr><h1 id="vi-socket-编程" tabindex="-1">VI. Socket 编程 <a class="header-anchor" href="#vi-socket-编程" aria-label="Permalink to “VI. Socket 编程”">​</a></h1><h3 id="_1-tcp-socket-示例" tabindex="-1">1. TCP Socket 示例 <a class="header-anchor" href="#_1-tcp-socket-示例" aria-label="Permalink to “1. TCP Socket 示例”">​</a></h3><p><strong>服务端</strong>：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ServerSocket serverSocket </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ServerSocket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8080</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Socket socket </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> serverSocket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">accept</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 阻塞等待连接</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">InputStream in </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OutputStream out </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 读写数据...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><p><strong>客户端</strong>：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Socket socket </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Socket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;127.0.0.1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8080</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OutputStream out </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">InputStream in </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 读写数据...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h3 id="_2-udp-socket-示例" tabindex="-1">2. UDP Socket 示例 <a class="header-anchor" href="#_2-udp-socket-示例" aria-label="Permalink to “2. UDP Socket 示例”">​</a></h3><p><strong>发送方</strong>：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DatagramSocket socket </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DatagramSocket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBytes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DatagramPacket packet </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DatagramPacket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data, data.length,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    InetAddress.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getByName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;127.0.0.1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8080</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(packet);</span></span></code></pre></div><p><strong>接收方</strong>：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DatagramSocket socket </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DatagramSocket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8080</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] buffer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DatagramPacket packet </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DatagramPacket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer, buffer.length);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">receive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(packet); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 阻塞等待</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String msg </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(packet.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, packet.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getLength</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span></code></pre></div><hr><h1 id="vii-常见面试题" tabindex="-1">VII. 常见面试题 <a class="header-anchor" href="#vii-常见面试题" aria-label="Permalink to “VII. 常见面试题”">​</a></h1><h3 id="_1-在浏览器输入-url-后发生了什么" tabindex="-1">1. 在浏览器输入 URL 后发生了什么？ <a class="header-anchor" href="#_1-在浏览器输入-url-后发生了什么" aria-label="Permalink to “1. 在浏览器输入 URL 后发生了什么？”">​</a></h3><ol><li><strong>DNS 解析</strong>：域名 -&gt; IP 地址</li><li><strong>TCP 连接</strong>：三次握手建立连接</li><li><strong>HTTP 请求</strong>：发送 GET 请求</li><li><strong>服务器处理</strong>：路由、业务逻辑、查询数据库</li><li><strong>HTTP 响应</strong>：返回 HTML/CSS/JS</li><li><strong>浏览器渲染</strong>： <ul><li>解析 HTML 构建 DOM 树</li><li>解析 CSS 构建 CSSOM 树</li><li>合并生成渲染树</li><li>布局（Layout）</li><li>绘制（Paint）</li></ul></li><li><strong>TCP 断开</strong>：四次挥手关闭连接</li></ol><h3 id="_2-tcp-粘包-拆包问题" tabindex="-1">2. TCP 粘包/拆包问题 <a class="header-anchor" href="#_2-tcp-粘包-拆包问题" aria-label="Permalink to “2. TCP 粘包/拆包问题”">​</a></h3><p><strong>原因</strong>：</p><ul><li>TCP 是字节流，无消息边界保护</li><li>Nagle 算法合并小包</li><li>接收方缓冲区不足</li></ul><p><strong>解决方案</strong>：</p><ul><li><strong>固定长度</strong>：消息长度固定</li><li><strong>分隔符</strong>：如换行符 <code>\n</code></li><li><strong>长度字段</strong>：消息头包含消息体长度（Netty 的 LengthFieldBasedFrameDecoder）</li></ul><h3 id="_3-介绍-cookie-和-session" tabindex="-1">3. 介绍 Cookie 和 Session <a class="header-anchor" href="#_3-介绍-cookie-和-session" aria-label="Permalink to “3. 介绍 Cookie 和 Session”">​</a></h3><table tabindex="0"><thead><tr><th>特性</th><th>Cookie</th><th>Session</th></tr></thead><tbody><tr><td>存储位置</td><td>客户端（浏览器）</td><td>服务端（内存/Redis）</td></tr><tr><td>安全性</td><td>较低（可篡改）</td><td>较高</td></tr><tr><td>大小限制</td><td>4KB</td><td>无限制</td></tr><tr><td>有效期</td><td>可设置持久化</td><td>默认会话结束失效</td></tr></tbody></table><p><strong>Session 工作流程</strong>：</p><ol><li>客户端首次请求，服务端创建 Session，生成 SessionID</li><li>服务端通过 Set-Cookie 头将 SessionID 返回客户端</li><li>客户端后续请求携带 Cookie（包含 SessionID）</li><li>服务端根据 SessionID 查找 Session</li></ol><p><strong>分布式 Session</strong>：</p><ul><li>Session Sticky（Nginx ip_hash）</li><li>Session Replication（集群同步）</li><li>Session 存储到 Redis（推荐）</li></ul><h3 id="_4-get-与-post-的区别" tabindex="-1">4. GET 与 POST 的区别 <a class="header-anchor" href="#_4-get-与-post-的区别" aria-label="Permalink to “4. GET 与 POST 的区别”">​</a></h3><table tabindex="0"><thead><tr><th>特性</th><th>GET</th><th>POST</th></tr></thead><tbody><tr><td>参数位置</td><td>URL 中</td><td>请求体中</td></tr><tr><td>缓存</td><td>可缓存</td><td>默认不缓存</td></tr><tr><td>安全性</td><td>参数可见，相对不安全</td><td>参数在 body 中，较安全</td></tr><tr><td>数据大小</td><td>受 URL 长度限制（2KB）</td><td>无限制</td></tr><tr><td>幂等性</td><td>幂等</td><td>非幂等</td></tr><tr><td>用途</td><td>查询资源</td><td>提交数据</td></tr></tbody></table><h3 id="_5-什么是跨域-如何解决" tabindex="-1">5. 什么是跨域？如何解决？ <a class="header-anchor" href="#_5-什么是跨域-如何解决" aria-label="Permalink to “5. 什么是跨域？如何解决？”">​</a></h3><p><strong>原因</strong>：浏览器的同源策略（协议、域名、端口都相同）</p><p><strong>解决方案</strong>：</p><ul><li><strong>CORS</strong>（Cross-Origin Resource Sharing）：服务端设置 <code>Access-Control-Allow-Origin</code></li><li><strong>JSONP</strong>：利用 <code>&lt;script&gt;</code> 标签不受同源限制，仅支持 GET</li><li><strong>反向代理</strong>：Nginx 代理转发，使前后端同域</li><li><strong>WebSocket</strong>：不受同源策略限制</li></ul><h3 id="_6-输入-www-baidu-com-到页面展示的全过程" tabindex="-1">6. 输入 www.baidu.com 到页面展示的全过程 <a class="header-anchor" href="#_6-输入-www-baidu-com-到页面展示的全过程" aria-label="Permalink to “6. 输入 www.baidu.com 到页面展示的全过程”">​</a></h3><p>详见&quot;浏览器输入 URL 后发生了什么&quot;，额外补充：</p><ul><li><strong>CDN 加速</strong>：DNS 解析可能返回 CDN 节点 IP</li><li><strong>负载均衡</strong>：Nginx 反向代理到后端服务器</li><li><strong>静态资源</strong>：HTML 中的 CSS/JS/Image 等会并发请求</li><li><strong>HTTP 缓存</strong>：强缓存（Cache-Control）与协商缓存（ETag、Last-Modified）</li></ul><h3 id="_7-什么是长连接与短连接" tabindex="-1">7. 什么是长连接与短连接？ <a class="header-anchor" href="#_7-什么是长连接与短连接" aria-label="Permalink to “7. 什么是长连接与短连接？”">​</a></h3><table tabindex="0"><thead><tr><th>特性</th><th>短连接</th><th>长连接</th></tr></thead><tbody><tr><td>连接方式</td><td>每次请求新建连接</td><td>一次连接多次请求</td></tr><tr><td>性能</td><td>频繁握手，性能低</td><td>减少握手，性能高</td></tr><tr><td>资源占用</td><td>低</td><td>高（需维护连接）</td></tr><tr><td>HTTP</td><td>HTTP/1.0 默认</td><td>HTTP/1.1 默认（keep-alive）</td></tr><tr><td>数据库</td><td>传统模式</td><td>连接池</td></tr></tbody></table><h3 id="_8-常见的-http-请求头与响应头" tabindex="-1">8. 常见的 HTTP 请求头与响应头 <a class="header-anchor" href="#_8-常见的-http-请求头与响应头" aria-label="Permalink to “8. 常见的 HTTP 请求头与响应头”">​</a></h3><p><strong>请求头</strong>：</p><ul><li><code>Host</code>：目标域名（虚拟主机必需）</li><li><code>User-Agent</code>：浏览器信息</li><li><code>Accept</code>：接受的内容类型（如 <code>application/json</code>）</li><li><code>Content-Type</code>：请求体的内容类型（如 <code>application/x-www-form-urlencoded</code>）</li><li><code>Authorization</code>：认证信息（如 JWT）</li><li><code>Cookie</code>：携带 Cookie</li><li><code>Referer</code>：来源页面</li></ul><p><strong>响应头</strong>：</p><ul><li><code>Content-Type</code>：响应的内容类型（如 <code>text/html; charset=utf-8</code>）</li><li><code>Content-Length</code>：响应体长度</li><li><code>Content-Encoding</code>：压缩方式（如 gzip）</li><li><code>Cache-Control</code>：缓存策略（如 <code>max-age=3600</code>）</li><li><code>Set-Cookie</code>：设置 Cookie</li><li><code>Location</code>：重定向目标 URL</li><li><code>ETag</code>：资源版本标识</li><li><code>Server</code>：服务器信息</li></ul><hr><h1 id="viii-性能优化" tabindex="-1">VIII. 性能优化 <a class="header-anchor" href="#viii-性能优化" aria-label="Permalink to “VIII. 性能优化”">​</a></h1><h3 id="_1-cdn-内容分发网络" tabindex="-1">1. CDN（内容分发网络） <a class="header-anchor" href="#_1-cdn-内容分发网络" aria-label="Permalink to “1. CDN（内容分发网络）”">​</a></h3><ul><li><strong>原理</strong>：将静态资源缓存到全球边缘节点，用户就近访问</li><li><strong>优势</strong>：减少延迟、降低源站压力、节省带宽</li><li><strong>适用</strong>：静态资源（图片、CSS、JS、视频）</li></ul><h3 id="_2-http-缓存" tabindex="-1">2. HTTP 缓存 <a class="header-anchor" href="#_2-http-缓存" aria-label="Permalink to “2. HTTP 缓存”">​</a></h3><p><strong>强缓存</strong>：</p><ul><li><code>Cache-Control: max-age=3600</code>：缓存 1 小时</li><li><code>Expires</code>：HTTP/1.0，已不推荐</li></ul><p><strong>协商缓存</strong>：</p><ul><li><code>Last-Modified / If-Modified-Since</code>：最后修改时间</li><li><code>ETag / If-None-Match</code>：资源指纹（优先级更高）</li></ul><p><strong>缓存流程</strong>：</p><ol><li>第一次请求：200 返回资源，携带 Cache-Control/ETag</li><li>再次请求：带 If-None-Match</li><li>服务端对比 ETag： <ul><li>未变化：304 Not Modified（使用缓存）</li><li>已变化：200 返回新资源</li></ul></li></ol><h3 id="_3-连接池" tabindex="-1">3. 连接池 <a class="header-anchor" href="#_3-连接池" aria-label="Permalink to “3. 连接池”">​</a></h3><ul><li><strong>数据库连接池</strong>（Druid、HikariCP）：复用连接，减少创建开销</li><li><strong>HTTP 连接池</strong>（HttpClient、OkHttp）：复用 TCP 连接</li></ul><hr><h2 id="参考资料" tabindex="-1">参考资料 <a class="header-anchor" href="#参考资料" aria-label="Permalink to “参考资料”">​</a></h2><ul><li>《计算机网络（第 7 版）》- 谢希仁</li><li>《图解 TCP/IP》</li><li>《图解 HTTP》</li><li>RFC 2616（HTTP/1.1）、RFC 7231（HTTP/1.1 修订）</li><li>Wireshark 抓包实践</li></ul></div></div></main><footer class="VPDocFooter" data-v-7011f0d8 data-v-e257564d><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api-examples.md\":\"DdeUUmLM\",\"elasticsearch.md\":\"Co7woVhU\",\"index.md\":\"BJepNdkD\",\"java与数据结构基础.md\":\"CiLlqZFp\",\"jvm.md\":\"Dw5KLLW8\",\"llm与agent.md\":\"0Saw8V-N\",\"markdown-examples.md\":\"CIl-LM3l\",\"spring.md\":\"I8k0JqHu\",\"场景题-点赞系统设计.md\":\"q-DaUAga\",\"场景题-评论缓存设计.md\":\"KYsG2qBi\",\"数据库.md\":\"CrzT024b\",\"数据结构.md\":\"C-p0cvZE\",\"消息队列.md\":\"BMCSJmon\",\"计算机网络.md\":\"Boh2ZjaX\",\"高性能redis.md\":\"BQpWY_zH\",\"高性能弹幕系统.md\":\"BZfkal9d\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Bagu for me and for all\",\"description\":\"We need bagu to get a f**king job!\",\"base\":\"/bagu/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"JDK与数据结构\",\"link\":\"/Java与数据结构基础\"},{\"text\":\"数据库\",\"link\":\"/数据库\"},{\"text\":\"Elasticsearch\",\"link\":\"/Elasticsearch\"},{\"text\":\"LLM与Agent\",\"link\":\"/LLM与Agent\"},{\"text\":\"Spring\",\"link\":\"/Spring\"},{\"text\":\"JVM与性能调优\",\"link\":\"/JVM\"},{\"text\":\"高性能Redis\",\"link\":\"/高性能Redis\"},{\"text\":\"消息队列\",\"link\":\"/消息队列\"},{\"text\":\"图和树\",\"link\":\"/数据结构\"},{\"text\":\"计算机网络\",\"link\":\"/计算机网络\"}],\"search\":{\"provider\":\"local\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/l0sgAi\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false,\"additionalConfig\":{}}");</script>
    
  </body>
</html>