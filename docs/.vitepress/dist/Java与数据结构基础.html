<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>⚒️JDK源码分析与数据结构基础 | Bagu for me and for all</title>
    <meta name="description" content="We need bagu to get a f**king job!">
    <meta name="generator" content="VitePress v2.0.0-alpha.15">
    <link rel="preload stylesheet" href="/bagu/assets/style.Cpgg9TW0.css" as="style">
    <link rel="preload stylesheet" href="/bagu/vp-icons.css" as="style">
    
    <script type="module" src="/bagu/assets/app.DhteLLIa.js"></script>
    <link rel="preload" href="/bagu/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/bagu/assets/chunks/theme.C65JK_Is.js">
    <link rel="modulepreload" href="/bagu/assets/chunks/framework.BZD6ashX.js">
    <link rel="modulepreload" href="/bagu/assets/Java与数据结构基础.md.CiLlqZFp.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-1df9f90f><!--[--><!--]--><!--[--><span tabindex="-1" data-v-331ec75c></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-331ec75c>Skip to content</a><!--]--><!----><header class="VPNav" data-v-1df9f90f data-v-da52a441><div class="VPNavBar" data-v-da52a441 data-v-70946a35><div class="wrapper" data-v-70946a35><div class="container" data-v-70946a35><div class="title" data-v-70946a35><div class="VPNavBarTitle" data-v-70946a35 data-v-1e38c6bc><a class="title" href="/bagu/" data-v-1e38c6bc><!--[--><!--]--><!----><span data-v-1e38c6bc>Bagu for me and for all</span><!--[--><!--]--></a></div></div><div class="content" data-v-70946a35><div class="content-body" data-v-70946a35><!--[--><!--]--><div class="VPNavBarSearch search" data-v-70946a35><!--[--><!----><div id="local-search"><button type="button" aria-label="Search" aria-keyshortcuts="/ control+k meta+k" class="DocSearch DocSearch-Button"><span class="DocSearch-Button-Container"><span class="vpi-search DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key"></kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-70946a35 data-v-39714824><span id="main-nav-aria-label" class="visually-hidden" data-v-39714824> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/bagu/" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/bagu/Java%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>JDK与数据结构</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/bagu/%E6%95%B0%E6%8D%AE%E5%BA%93.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>数据库</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/bagu/Elasticsearch.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>Elasticsearch</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/bagu/LLM%E4%B8%8EAgent.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>LLM与Agent</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/bagu/Spring.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>Spring</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/bagu/JVM.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>JVM与性能调优</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/bagu/%E9%AB%98%E6%80%A7%E8%83%BDRedis.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>高性能Redis</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/bagu/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>消息队列</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-70946a35 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-70946a35 data-v-0394ad82 data-v-d07f11e6><!--[--><a class="VPSocialLink no-icon" href="https://github.com/l0sgAi" aria-label="github" target="_blank" rel="me noopener" data-v-d07f11e6 data-v-591a6b30><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-70946a35 data-v-bf2fac68 data-v-42cb505d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-42cb505d><span class="vpi-more-horizontal icon" data-v-42cb505d></span></button><div class="menu" data-v-42cb505d><div class="VPMenu" data-v-42cb505d data-v-25a6cce8><!----><!--[--><!--[--><!----><div class="group" data-v-bf2fac68><div class="item appearance" data-v-bf2fac68><p class="label" data-v-bf2fac68>Appearance</p><div class="appearance-action" data-v-bf2fac68><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bf2fac68 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bf2fac68><div class="item social-links" data-v-bf2fac68><div class="VPSocialLinks social-links-list" data-v-bf2fac68 data-v-d07f11e6><!--[--><a class="VPSocialLink no-icon" href="https://github.com/l0sgAi" aria-label="github" target="_blank" rel="me noopener" data-v-d07f11e6 data-v-591a6b30><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-70946a35 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-70946a35><div class="divider-line" data-v-70946a35></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-1df9f90f data-v-db738f89><div class="container" data-v-db738f89><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-db738f89 data-v-0bf0e06f><button data-v-0bf0e06f>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-1df9f90f data-v-c87f25bf><div class="VPDoc has-aside" data-v-c87f25bf data-v-7011f0d8><!--[--><!--]--><div class="container" data-v-7011f0d8><div class="aside" data-v-7011f0d8><div class="aside-curtain" data-v-7011f0d8></div><div class="aside-container" data-v-7011f0d8><div class="aside-content" data-v-7011f0d8><div class="VPDocAside" data-v-7011f0d8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-60d5052e><div class="content" data-v-60d5052e><div class="outline-marker" data-v-60d5052e></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-60d5052e>On this page</div><ul class="VPDocOutlineItem root" data-v-60d5052e data-v-1ce71065><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-7011f0d8><div class="content-container" data-v-7011f0d8><!--[--><!--]--><main class="main" data-v-7011f0d8><div style="position:relative;" class="vp-doc _bagu_Java%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80" data-v-7011f0d8><div><h1 id="⚒️jdk源码分析与数据结构基础" tabindex="-1">⚒️JDK源码分析与数据结构基础 <a class="header-anchor" href="#⚒️jdk源码分析与数据结构基础" aria-label="Permalink to “⚒️JDK源码分析与数据结构基础”">​</a></h1><h2 id="jdk源码分析" tabindex="-1">JDK源码分析 <a class="header-anchor" href="#jdk源码分析" aria-label="Permalink to “JDK源码分析”">​</a></h2><h3 id="i-hashmap-与-concurrenthashmap-的底层实现" tabindex="-1">I. HashMap 与 ConcurrentHashMap 的底层实现 <a class="header-anchor" href="#i-hashmap-与-concurrenthashmap-的底层实现" aria-label="Permalink to “I. HashMap 与 ConcurrentHashMap 的底层实现”">​</a></h3><p>这是重灾区，一定要分 JDK 1.7 和 1.8 两个版本回答，体现深度。</p><h4 id="hashmap" tabindex="-1"><strong>HashMap</strong> <a class="header-anchor" href="#hashmap" aria-label="Permalink to “HashMap”">​</a></h4><ul><li><p><strong>底层结构：</strong></p><ul><li><p><strong>JDK 1.7：</strong> 数组 + 链表。</p></li><li><p><strong>JDK 1.8：</strong> 数组 + 链表 + <strong>红黑树</strong>。</p><ul><li>转换条件： 当链表长度大于 8 <strong>且</strong> 数组长度大于 64 时，链表转为红黑树（查找从 <code>O(n)</code> 优化为<code> O(logn)</code>）；当节点少于 6 时退化为链表。</li></ul></li></ul></li><li><p><strong>扩容机制：</strong></p><ul><li><p>默认初始容量 16，加载因子 0.75。</p></li><li><p>当元素个数 &gt; 容量 * 加载因子时，扩容为原来的 <strong>2倍</strong>。</p></li></ul></li><li><p><strong>线程安全性：</strong> 不安全。多线程下扩容可能导致死循环（1.7）或数据覆盖（1.8）。</p></li></ul><h4 id="concurrenthashmap-chm" tabindex="-1"><strong>ConcurrentHashMap (CHM)</strong> <a class="header-anchor" href="#concurrenthashmap-chm" aria-label="Permalink to “ConcurrentHashMap (CHM)”">​</a></h4><ul><li><p><strong>JDK 1.7（分段锁）：</strong></p><ul><li><p><strong>结构：</strong> Segment 数组 + HashEntry 数组。</p></li><li><p><strong>锁机制：</strong> Segment 继承自 ReentrantLock。将数据分成一段一段存储，给每一段数据配一把锁。</p></li><li><p><strong>并发度：</strong> 默认 16（即支持 16 个线程并发写）。</p></li></ul></li><li><p><strong>JDK 1.8（CAS + synchronized）：</strong></p><ul><li><p><strong>结构：</strong> 与 HashMap 1.8 一致（数组 + 链表 + 红黑树）。</p></li><li><p><strong>锁机制：</strong> 抛弃了分段锁。使用 <strong>CAS</strong> 添加新节点，使用 <strong>synchronized</strong> 锁定链表或树的<strong>首节点</strong>。</p></li><li><p><strong>优势：</strong> 锁粒度更细（只锁当前桶），并发性能更高。</p></li></ul></li></ul><hr><h3 id="ii-arraylist-的底层实现" tabindex="-1">II. ArrayList 的底层实现 <a class="header-anchor" href="#ii-arraylist-的底层实现" aria-label="Permalink to “II. ArrayList 的底层实现”">​</a></h3><ul><li><p><strong>底层数据结构：</strong> 动态数组（Object[] elementData）。</p></li><li><p><strong>初始容量：</strong> 默认为 10（注意：JDK 1.8+ 是懒加载，第一次 add 时才初始化数组）。</p></li><li><p><strong>扩容机制：</strong></p><ul><li><p>当容量不足时，扩容为原来的 <strong>1.5 倍</strong>（oldCapacity + (oldCapacity &gt;&gt; 1)）。</p></li><li><p>扩容本质是 System.arraycopy，将老数组元素复制到新数组，比较耗时。</p></li></ul></li><li><p><strong>特点：</strong></p><ul><li><p>支持随机访问（根据下标查询），时间复杂度 O(1)</p><p>。</p></li><li><p>插入/删除效率低（因为要移动后续元素），时间复杂度 O(n)</p><p>。</p></li></ul></li><li><p><strong>线程安全：</strong> 不安全。并发场景建议使用 CopyOnWriteArrayList。</p></li></ul><hr><h3 id="iii-哈希冲突-hash-collision-怎么解决" tabindex="-1">III. 哈希冲突（Hash Collision）怎么解决？ <a class="header-anchor" href="#iii-哈希冲突-hash-collision-怎么解决" aria-label="Permalink to “III. 哈希冲突（Hash Collision）怎么解决？”">​</a></h3><p>面试官通常想听前两种，特别是第一种。</p><ol><li><p><strong>链地址法（拉链法 - Chaining）：</strong></p><ul><li><p><strong>原理：</strong> 数组的每个槽位指向一个链表，所有哈希值相同的元素都存在链表中。</p></li><li><p><strong>应用：</strong> <strong>Java 的 HashMap</strong> 就是用的这种（1.8 后链表过长转红黑树）。</p></li></ul></li><li><p><strong>开放寻址法（Open Addressing）：</strong></p><ul><li><p><strong>原理：</strong> 发生冲突时，去寻找下一个空的槽位。常见方式有线性探测（+1, +2...）或二次探测。</p></li><li><p><strong>应用：</strong> Java 的 <strong>ThreadLocalMap</strong>。</p></li></ul></li><li><p><strong>再哈希法（Re-Hashing）：</strong></p><ul><li>准备多个哈希函数，第一个冲突了就用第二个，直到不冲突为止。</li></ul></li><li><p><strong>公共溢出区法：</strong></p><ul><li>建立一个公共的溢出区（通常也是数组），凡是冲突的元素都扔进去。</li></ul></li></ol><hr><h3 id="iv-其它" tabindex="-1">IV. 其它 <a class="header-anchor" href="#iv-其它" aria-label="Permalink to “IV. 其它”">​</a></h3><h4 id="_1-string、stringbuffer、stringbuilder-的区别" tabindex="-1">1. String、StringBuffer、StringBuilder 的区别？ <a class="header-anchor" href="#_1-string、stringbuffer、stringbuilder-的区别" aria-label="Permalink to “1. String、StringBuffer、StringBuilder 的区别？”">​</a></h4><ul><li><p><strong>String：</strong> <strong>不可变</strong>字符序列（底层是 final char[]，JDK9改为 byte[]）。每次修改都会创建新对象，适合少量操作。</p></li><li><p><strong>StringBuilder：</strong> <strong>可变</strong>字符序列。<strong>线程不安全</strong>，效率最高。适合单线程大量字符串拼接。</p></li><li><p><strong>StringBuffer：</strong> <strong>可变</strong>字符序列。<strong>线程安全</strong>（方法加了 synchronized），效率较低。</p></li></ul><h4 id="_2-和-equals-的区别" tabindex="-1">2. == 和 equals 的区别？ <a class="header-anchor" href="#_2-和-equals-的区别" aria-label="Permalink to “2. == 和 equals 的区别？”">​</a></h4><ul><li><p><strong>==：</strong></p><ul><li><p>基本数据类型：比较<strong>值</strong>。</p></li><li><p>引用数据类型：比较<strong>内存地址</strong>。</p></li></ul></li><li><p><strong>equals：</strong></p><ul><li><p>默认情况（Object类）：等价于 ==，比较内存地址。</p></li><li><p>重写后（如 String, Integer）：比较对象的<strong>内容</strong>。</p></li></ul></li><li><p><strong>追问：为什么要重写 hashCode？</strong></p><ul><li><p><strong>约定：</strong> 如果两个对象 equals 为 true，它们的 hashCode 必须相同。</p></li><li><p><strong>后果：</strong> 如果只重写 equals 不重写 hashCode，放在 HashMap 中会无法根据 Key 找到 Value（因为 HashMap 先算 Hash 确定位置）。</p></li></ul></li></ul><h4 id="_3-接口-interface-和抽象类-abstract-class-的区别" tabindex="-1">3. 接口（Interface）和抽象类（Abstract Class）的区别？ <a class="header-anchor" href="#_3-接口-interface-和抽象类-abstract-class-的区别" aria-label="Permalink to “3. 接口（Interface）和抽象类（Abstract Class）的区别？”">​</a></h4><ul><li><p><strong>语法层面：</strong></p><ul><li><p>接口只能有 public abstract 方法（JDK 8+ 可以有 default/static 方法），变量只能是 public static final 常量。</p></li><li><p>抽象类可以有普通方法和普通成员变量。</p></li></ul></li><li><p><strong>设计层面：</strong></p><ul><li><p>接口是对<strong>行为</strong>的抽象（Can-Do，比如“会飞”）。支持<strong>多实现</strong>。</p></li><li><p>抽象类是对<strong>事物</strong>的抽象（Is-A，比如“是鸟”）。只能<strong>单继承</strong>。</p></li></ul></li></ul><hr><h2 id="并发编程-juc-基础" tabindex="-1">并发编程（JUC）基础 <a class="header-anchor" href="#并发编程-juc-基础" aria-label="Permalink to “并发编程（JUC）基础”">​</a></h2><h3 id="i-volatile-关键字的作用" tabindex="-1">I. volatile 关键字的作用？ <a class="header-anchor" href="#i-volatile-关键字的作用" aria-label="Permalink to “I. volatile 关键字的作用？”">​</a></h3><ul><li><p><strong>保证可见性：</strong> 一个线程修改了变量，其他线程立刻可见（强制刷回主内存）。</p></li><li><p><strong>禁止指令重排序：</strong> 保证代码执行顺序，防止编译器/CPU 乱序执行（经典案例：单例模式的双重检查锁 DCL）。</p></li><li><p><strong>注意：</strong> volatile <strong>不保证原子性</strong>（比如 count++ 操作即使加了 volatile 也是不安全的）。</p></li></ul><h3 id="ii-线程池的-7-个核心参数-threadpoolexecutor" tabindex="-1">II. 线程池的 7 个核心参数（ThreadPoolExecutor）？ <a class="header-anchor" href="#ii-线程池的-7-个核心参数-threadpoolexecutor" aria-label="Permalink to “II. 线程池的 7 个核心参数（ThreadPoolExecutor）？”">​</a></h3><p>这是必背题，顺序不能乱：</p><ol><li><p><strong>corePoolSize：</strong> 核心线程数（常驻线程）。</p></li><li><p><strong>maximumPoolSize：</strong> 最大线程数。</p></li><li><p><strong>keepAliveTime：</strong> 非核心线程空闲存活时间。</p></li><li><p><strong>unit：</strong> 时间单位。</p></li><li><p><strong>workQueue：</strong> 阻塞队列（存放任务的地方，如 ArrayBlockingQueue）。</p></li><li><p><strong>threadFactory：</strong> 线程工厂（用于给线程命名）。</p></li><li><p><strong>handler：</strong> <strong>拒绝策略</strong>（队列满且线程数达到最大时怎么处理）。</p><ul><li><p>AbortPolicy（默认）：抛异常。</p></li><li><p>CallerRunsPolicy：谁调用的谁去执行（比如主线程）。</p></li><li><p>DiscardPolicy：直接丢弃。</p></li><li><p>DiscardOldestPolicy：丢弃队列里最老的。</p></li></ul></li></ol><h3 id="iii-threadlocal-是什么-有没有内存泄漏问题" tabindex="-1">III. ThreadLocal 是什么？有没有内存泄漏问题？ <a class="header-anchor" href="#iii-threadlocal-是什么-有没有内存泄漏问题" aria-label="Permalink to “III. ThreadLocal 是什么？有没有内存泄漏问题？”">​</a></h3><ul><li><p><strong>作用：</strong> 线程本地变量。每个线程有一份独立的副本，互不干扰（空间换时间）。</p></li><li><p><strong>底层：</strong> 每个 Thread 内部维护了一个 ThreadLocalMap。Key 是 ThreadLocal 实例本身，Value 是存储的值。</p></li><li><p><strong>内存泄漏问题：</strong></p><ul><li><p><strong>原因：</strong> ThreadLocalMap 的 Key 是<strong>弱引用</strong>，Value 是<strong>强引用</strong>。如果 ThreadLocal 对象被回收，Key 变成 null，但 Value 还在，且被线程持有，导致 Value 无法回收。</p></li><li><p><strong>解决：</strong> 使用完必须手动调用 <strong>remove()</strong> 方法。</p></li></ul></li></ul><hr><h2 id="java-io-模型" tabindex="-1">Java IO 模型 <a class="header-anchor" href="#java-io-模型" aria-label="Permalink to “Java IO 模型”">​</a></h2><h3 id="i-bio、nio、aio-的区别" tabindex="-1">I. BIO、NIO、AIO 的区别？ <a class="header-anchor" href="#i-bio、nio、aio-的区别" aria-label="Permalink to “I. BIO、NIO、AIO 的区别？”">​</a></h3><ul><li><p><strong>BIO (Blocking I/O - 同步阻塞)：</strong></p><ul><li><strong>模型：</strong> 传统 IO，<strong>一个连接一个线程</strong>。</li><li><strong>流程：</strong> 客户端有连接请求时服务器端就需要启动一个线程进行处理，如果这个连接不做任何事情会造成不必要的线程开销。</li><li><strong>场景：</strong> 适用于连接数目比较小且固定的架构。</li></ul></li><li><p><strong>NIO (Non-blocking I/O - 同步非阻塞)：</strong></p><ul><li><strong>模型：</strong> <strong>多路复用</strong>。<strong>一个线程处理多个连接</strong>。</li><li><strong>核心：</strong> Selectors（选择器）、Channels（通道）、Buffers（缓冲区）。</li><li><strong>流程：</strong> 客户端发送的连接请求会注册到多路复用器上，多路复用器轮询到连接有 I/O 请求时才启动线程处理。</li><li><strong>场景：</strong> 适用于连接数目多且连接比较短（轻操作）的架构，如聊天服务器、弹幕系统、Netty。</li></ul></li><li><p><strong>AIO (Asynchronous I/O - 异步非阻塞)：</strong></p><ul><li><strong>模型：</strong> <strong>Proactor 模式</strong>。</li><li><strong>流程：</strong> 读写操作由操作系统完成后，再回调通知应用。</li><li><strong>场景：</strong> 适用于连接数目多且连接比较长（重操作）的架构。</li></ul></li></ul><h3 id="ii-什么是-io-多路复用" tabindex="-1">II. 什么是 IO 多路复用？ <a class="header-anchor" href="#ii-什么是-io-多路复用" aria-label="Permalink to “II. 什么是 IO 多路复用？”">​</a></h3><ul><li><strong>概念：</strong> 单个线程通过记录跟踪每一个Sock(I/O流)的状态来同时管理多个I/O流。</li><li><strong>底层实现 (Linux)：</strong><ul><li><strong>select：</strong> 轮询方式，监视文件描述符。缺点：最大连接数受限 (1024)，轮询效率低 O(N)。</li><li><strong>poll：</strong> 也是轮询，虽然解决了连接数限制（链表存储），但效率依然是 O(N)。</li><li><strong>epoll：</strong> <strong>事件驱动</strong>。只管“活跃”的连接，无需遍历所有连接。效率 O(1)。<strong>是目前 Linux 下最高效的 IO 模型</strong>。</li></ul></li></ul><h3 id="iii-零拷贝-zero-copy-是什么" tabindex="-1">III. 零拷贝 (Zero Copy) 是什么？ <a class="header-anchor" href="#iii-零拷贝-zero-copy-是什么" aria-label="Permalink to “III. 零拷贝 (Zero Copy) 是什么？”">​</a></h3><ul><li><strong>传统 IO：</strong> 数据需要在<strong>用户态</strong>和<strong>内核态</strong>之间多次全量拷贝 (磁盘 -&gt; 内核 -&gt; 用户 -&gt; 内核 -&gt; 网卡)，CPU 消耗大。</li><li><strong>零拷贝：</strong> 减少上下文切换和数据拷贝次数。 <ul><li><strong>mmap (内存映射)：</strong> 将文件映射到内核缓冲区，用户空间共享这块内存，减少一次拷贝。</li><li><strong>sendfile：</strong> 数据直接从内核缓冲区复制到 Socket 缓冲区 (或利用 DMA 直接传给网卡)，<strong>完全不需要经过用户态</strong>。</li></ul></li><li><strong>应用：</strong> Kafka、Netty 极其依赖零拷贝技术来提升吞吐量。</li></ul></div></div></main><footer class="VPDocFooter" data-v-7011f0d8 data-v-e257564d><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api-examples.md\":\"DdeUUmLM\",\"elasticsearch.md\":\"Co7woVhU\",\"index.md\":\"Dj4QvTeM\",\"java与数据结构基础.md\":\"CiLlqZFp\",\"jvm.md\":\"Dw5KLLW8\",\"llm与agent.md\":\"0Saw8V-N\",\"markdown-examples.md\":\"CIl-LM3l\",\"spring.md\":\"I8k0JqHu\",\"场景题-评论缓存设计.md\":\"CPLhNsi4\",\"数据库.md\":\"BOFkCrXm\",\"消息队列.md\":\"BMCSJmon\",\"高性能redis.md\":\"BQpWY_zH\",\"高性能弹幕系统.md\":\"BZfkal9d\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Bagu for me and for all\",\"description\":\"We need bagu to get a f**king job!\",\"base\":\"/bagu/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"JDK与数据结构\",\"link\":\"/Java与数据结构基础\"},{\"text\":\"数据库\",\"link\":\"/数据库\"},{\"text\":\"Elasticsearch\",\"link\":\"/Elasticsearch\"},{\"text\":\"LLM与Agent\",\"link\":\"/LLM与Agent\"},{\"text\":\"Spring\",\"link\":\"/Spring\"},{\"text\":\"JVM与性能调优\",\"link\":\"/JVM\"},{\"text\":\"高性能Redis\",\"link\":\"/高性能Redis\"},{\"text\":\"消息队列\",\"link\":\"/消息队列\"}],\"search\":{\"provider\":\"local\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/l0sgAi\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false,\"additionalConfig\":{}}");</script>
    
  </body>
</html>